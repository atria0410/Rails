<%# フォーム %>
<%= form_with model: @project do |f| %>
  <%= render "partials/error_messages", model: f.object %>
  <%= f.label :name, class: "form-label" %>
  <%= f.text_field :name, class: "form-control" %>
  <table class="table  table-bordered table-striped mt-3">
    <thead>
      <tr>
        <th>No</th>
        <th><%= f.label :tasks_name %></th>
        <th><%= f.label :tasks_start_date %></th>
        <th><%= f.label :tasks_end_date %></th>
        <th></th>
      </tr>
    </thead>
    <tbody id="detail-association-insertion-point" data-controller="sortable">
      <%= f.fields_for :tasks do |task| %>
        <%= render "task_fields", f: task %>
      <% end %>
    </tbody>
  </table>
  <%= link_to_add_association "タスクを追加", f, :tasks,
    class: "btn btn-secondary",
    data: {
      association_insertion_node: "#detail-association-insertion-point",
      association_insertion_method: "append"
    }
  %>
  <div class="mt-3">
    <%= f.submit "登録", class: "btn btn-success" %>
  </div>
<% end %>
